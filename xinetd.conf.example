# here is an xinetd.conf file that works with sshxor.
# if you already have a xinetd.conf file with other services, just add the
# lines relevant to sshxor, not the "defaults" stanza


# This file generated by xconv.pl, included with the xinetd
# package.  xconv.pl was written by Rob Braun (bbraun@synack.net)
#
# The file is merely a translation of your inetd.conf file into
# the equivalent in xinetd.conf syntax.  xinetd has many 
# features that may not be taken advantage of with this translation.
# Please refer to the xinetd.conf man page for more information 
# on how to properly configure xinetd.


# The defaults section sets some information for all services
defaults
{
	#The maximum number of requests a particular service may handle
	# at once.
	instances   = 25

	# The type of logging.  This logs to a file that is specified.
	# Another option is: SYSLOG syslog_facility [syslog_level]
	log_type    = FILE /var/log/servicelog

	# What to log when the connection succeeds.
	# PID logs the pid of the server processing the request.
	# HOST logs the remote host's ip address.
	# USERID logs the remote user (using RFC 1413)
	# EXIT logs the exit status of the server.
	# DURATION logs the duration of the session.
	log_on_success = HOST PID

	# What to log when the connection fails.  Same options as above
	log_on_failure = HOST

	# The maximum number of connections a specific IP address can
	# have to a specific service.  
	per_source  = 5
}


# these are the only lines you should add if you have already-existing services
# in your xinetd.conf file and you want to keep them set up

service sshxor
{
	flags       = NAMEINARGS
	socket_type = stream
	protocol    = tcp
	wait        = no
	user        = nobody
	port        = 13107
	server      = /usr/local/bin/sshxor.pl
	server_args = sshxor.pl 127.0.0.1 22 
}

